<app-header></app-header>
    
		<section class="portfolio-area pt-60 mb-3">
			<div class="container">
				<div class="row flexbox-center">
					<div class="col-lg-6 text-center text-lg-left">
					    <div class="section-title">
							<ng-container *ngIf="user.rol">
								<ng-container *ngIf="user.rol === 'Admin'">
									<h1 class="titulo">Detalle de Venta</h1>
								</ng-container>
								<ng-container *ngIf="user.rol === 'Cliente'">
									<h1 class="titulo">Mis Compras</h1>
								</ng-container>
							</ng-container>
						</div>
					</div>
				</div>
				<hr />
				
                <div class="row">
					<div class="col-lg-12 ml-auto" *ngIf="orden != undefined">
						
						<h4 class="text-white">Detalles de la compra:</h4>
						<div class="row">
						  <div class="col-12" style="margin-bottom: 4rem;">
							<div class="card card-body py-3 box-shadow ">
							  <div class="row">
								<div class="col-lg-6">
								  <table class="table mb-0">
									<tbody>
									  <tr>
										<th class="border-0 py-2 pl-0">Orden No:</th>
										<td class="border-0 py-2 px-0 text-muted">{{id.toUpperCase()}}</td>
									  </tr>
									 
									  <tr>
										<th class="border-0 py-2 pl-0">Fecha:</th>
										<td class="border-0 py-2 px-0 text-muted">{{orden.creado|date}}</td>
									  </tr>

									  <tr>
										<th class="border-0 py-2 pl-0">Estado:</th>
										<td class="border-0 py-2 px-0 text-muted">
										  <span class="badge badge-success" style="background: black !important;">{{orden.estado}}</span>
										</td>
									  </tr>
									  <tr>
										<th class="border-0 py-2 pl-0">Metodo pago:</th>
										<td class="border-0 py-2 px-0 text-muted">
										  <span>{{orden.metodo_pago}}</span>
										</td>
									
									  </tr>
									 
									</tbody>
								  </table>
								</div>
							  </div>
							  
							</div>
						  </div>
						</div>
						
						<h4 class="text-white">Productos:</h4>
						<div class="card border-bottom">
						
						  <div id="order-1" class="collapse show" data-parent="#orders">
							<div class="rounded">
							  <div class="table-responsive">
								<table class="table mb-0 ">
								  <tbody>
									<tr *ngFor="let item of detalles">
									  <td class="border-top-0">
										<div class="media pl-2 py-2">
										  <a [routerLink]="['/peliculas/'+item.producto._id]" style="min-width: 80px;cursor: pointer;">
											<img src="{{item.producto.img}}"  width="80" alt="Product thumb">
										  </a>
										  <div class="media-body pl-3">
											<h3 class="font-size-sm mb-3">
											  <a [routerLink]="['/peliculas/'+item.producto._id]" style="cursor: pointer;" class="link-name">{{item.producto.nombre}}</a>
											</h3>
										  </div>
										</div>
									  </td>
									  <td class="border-top-0">
										<div class="py-2">
										  <div class="font-size-xs text-muted mb-1">Precio:</div>
										  <div class="font-size-sm text-dark">
											<span>${{item.subtotal}}</span>
											
										  </div>
										</div>
									  </td>
									  <td class="border-top-0">
										<div class="py-2">
										  <div class="font-size-xs text-muted mb-1">Cantidad:</div>
										  <div class="font-size-sm text-dark">{{item.cantidad}}</div>
										</div>
									  </td>
									  <td class="border-top-0">
										<div class="py-2 pr-3 text-right">
										  <div class="font-size-xs text-muted mb-1">Subtotal:</div>
										  <div class="font-size-sm font-weight-bold text-dark">
											<span>${{item.subtotal*item.cantidad}}</span>
											</div>
										</div>
									  </td>
									</tr>
									<tr>
									  <td style="padding-left: 1.3rem !important;" colspan="3">
										<b>Subtotal</b>
									  </td>
									  <td class="" colspan="1">
										<div class="py-2 pr-3 text-right">
										  <span>${{orden.subtotal}}</span>
										</div>  
									  </td>
									</tr>
									<tr>
									  <td style="padding-left: 1.3rem !important;" colspan="3">
										<b>Total</b>
									  </td>
									  <td class="" colspan="1">
										<div  class="py-2 pr-3 text-right">
										  <span>${{orden.subtotal}}		</span>
										</div>
									  </td>
									</tr>
								  </tbody>
								</table>
							  </div>
							</div>
						
						  </div>
						</div>
					</div>
		  
					<div class="col-lg-12 ml-auto" *ngIf="orden == undefined">
						<div class="row">
						  <div class="col-12">
							<div class="col-lg-12 col-md-5">
								<h3 class="h6 mb-2 text-uppercase">ERROR 404</h3>
								<h2 class="h3 pb-lg-3">No se encontro detalles con esta orden.</h2>
		  
							</div>
						  </div>
						</div>
					</div>
				  </div>
			</div>
		</section>

		<app-footer></app-footer>

